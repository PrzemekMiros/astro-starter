---
import BaseLayout from "../../layouts/BaseLayout.astro";

const entries = import.meta.glob("../../content/faq/*.md", { eager: true });
const questions = Object.entries(entries)
  .map(([file, entry]) => {
    const slug = file.split("/").pop().replace(".md", "");
    return { slug, ...entry.frontmatter };
  })
  .sort((a, b) => (a.title ?? "").localeCompare(b.title ?? "", "pl", { sensitivity: "base" }));
---

<BaseLayout
  title="Zadawane pytania"
  description="Napisz lub zadzwon, opowiedz o projekcie i otrzymaj odpowiedz w 24-48h."
>
  <section class="pb-16 pt-14 md:pb-16 md:pt-16">
    <div class="grid gap-4 md:grid-cols-2">
      {questions.map((item) => (
        <article class="rounded-xl border border-[var(--border)] bg-white px-4 py-8 md:px-6 transition hover:border-[var(--accent)] hover:shadow-lg">
          <h2 class="text-xl font-semibold text-[var(--text)]">{item.title}</h2>
          {item.answer ? (
            <p class="mt-3 leading-relaxed text-[var(--muted)]">{item.answer}</p>
          ) : null}
        </article>
      ))}
    </div>
  </section>
</BaseLayout>
